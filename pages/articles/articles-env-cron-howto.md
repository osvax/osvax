---
title: Работа с cron | Статьи Рабочее окружение
sidebar: articles_sidebar
keywords: cron настройка
permalink: articles-env-cron-howto.html
toc: false
folder: articles
---

**Если кронов в проекте много, то имеет смысл внедрить планировщик задач в проект [https://habrahabr.ru/post/345802/](https://habrahabr.ru/post/345802/)**

* 1) Скрипты выполнять от верного пользователя (проверить права)

* 2) Перед добавлением задания сделать файл исполняемым, если это sh скрипт

```
chmod +x <path_to_script>
```

### Примеры настройки заданий по времени выполнения

```
1 * * * * <path_to_script> # выполняется в первую минуту каждого часа
*/1 * * * * <path_to_script> # выполняется КАЖДУЮ минуту каждого часа
*/30 * * * * <path_to_script> # выполняется КАЖДЫЕ 30 минут каждого часа
30 */2 * * * <path_to_script> # выполняется в 30ую минуту каждые 2 часа
0 4 * * * <path_to_script> # выполняется каждый день в 4 часа утра


* * * * * выполняемая команда
- - - - -
| | | | |
| | | | ----- День недели (0 - 7) (Воскресенье =0 или =7)
| | | ------- Месяц (1 - 12)
| | --------- День (1 - 31)
| ----------- Час (0 - 23)
------------- Минута (0 - 59)
```

### Если не запускаются скрипты

[https://toster.ru/q/58736](https://toster.ru/q/58736)

* 1) Скрипт сделать исполняемым

* 2) Если скрипту нужны права рута для запуска, то поместить его в рутовый крон

* 3) Настроить вывод в лог

```
0 4 * * * <path_to_script> > /tmp/имя_команды.log 2>&1
```

* 4) Проверить лог, исправить ошибки при наличии

* 5) Restart cron

```
# CentOS
systemctl stop crond
systemctl start crond

# Ubuntu
service crond stop
service crond start
```

6) Проверить статус демона

```
# CentOS
systemctl status crond

# Ubuntu
service crond status
```
