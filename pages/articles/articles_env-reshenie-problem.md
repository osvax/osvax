---
title: Статьи Рабочее окружение | Решение проблем
sidebar: articles_sidebar
keywords: news, blog, updates, release notes, announcements
permalink: articles_env-reshenie-problem.html
toc: false
folder: articles
---

## Статьи Рабочее окружение | Решение проблем

### Настраиваем работу горячих клавиш в сочетании с Alt

[Источник](https://askubuntu.com/questions/521423/how-can-i-disable-altclick-window-dragging/521447#521447)

**Пункт 1**

```bash
sudo apt-get install compizconfig-settings-manager
ccsm -p move
```
После этого откроется окно, в котором выбираем пункт "Инициировать движение окна", справа от него жмем на кнопку "Alt<Button1>", снимаем галку с "Включено"

**Пункт 2**

Открываем "Параметры системы" Ubuntu (правый верхний угол "шестеренка" -> Параметры системы) -> Клавиатура -> Комбинации клавиш -> Система, заменяем все что с "Alt" на "Super"(кнопка Windows)


### Восстанавливаем работу горячих клавиш в PHPStorm в русской расскладке

[Источник](https://www.kobzarev.com/soft/chinim-goryachie-klavishi-phpstorm-v-russkoy-raskladke-pod-ubuntu/)

```bash
git clone https://github.com/zheludkovm/LinuxJavaFixes.git fix

// Путь зависить от Вашей версии приложения, главное найти phpstorm64.vmoptions
nano ~/PhpStorm-163.10504.2/bin/phpstorm64.vmoptions

// Так же указываем верный путь именно для вашей системы
-javaagent:/home/user/fix/build/LinuxJavaFixes-1.0.0-SNAPSHOT.jar
```

### PHPStorm ошибка "User limit of inotify watches reached" в Ubuntu 16.04

* Проверяем текущее ограничение на количество вотчеров

```bash
cat /proc/sys/fs/inotify/max_user_watches

# результат: 8192
```

* Увеличиваем количество вотчеров до нужного нам

```bash
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p --system
```

Изменения для IDE вступят в силу при её следующем запуске.

### Не работает авторизация Битрикс

Тут явная проблема в работе механизма сессий

* Пробуем поставить галку "Запомнить меня" и авторизоваться с ней, если получилось, тогда идем в ```Настройки -> Производительность -> PHP -> Настройки PHP```, далее ищем группу настроек "session" и проверяем корректность настроек.

Особое внимание следует обратить на параметр **session.save_path** в нем указан путь, по которому происходит сохранение файлов сессий для проекта. Нужно пройти по указанному пути, проверить его существование и права доступа и записи для указанной папки пользователем из-под которого работает Apache.

### При подключении по SSH ошибка "Too many authentication failures"

Ошибка возникает из-за наличия на ПК, с которого происходит соединение, нескольких сгенерированных SSH-ключей, SSH-клиент пытается предложить их серверу, а сервер воспринимает это как попытку множественной авторизации.

Для решения этой проблемы нужно подключаться с использованием опции ```-o 'IdentitiesOnly=yes'```

Пример:

```sh
ssh -o 'IdentitiesOnly=yes' username@some-server.ru
```

### Частые зависания соединения ssh

Попробовать отправлять через равные интервалы времени null пакеты на сервер для поддержания соединения
В файл **/etc/ssh/ssh_config** на клиентской машине добавить параметр:

```sh
Host *
ServerAliveInterval 100
```

### Ошибка загрузки ОС в VM (Vagrant)

При возникновении ошибки **"couldn't remount rdwr because of unprocessed orphan..."** скорее всего что-то случилось с файловой системой вашего виртуального диска VM.

Для исправления этого нужно:

* Добавить CD-ROM в вашу VM, установить в него образ загрузочного диска, к примеру любой образ ubuntu
* Выставить приоритет загрузки VM, так что бы машина грузилась из добавленного CD-ROM
* Загрузить вашу VM и отмонтировать в ней проблемный виртуальный HDD, пример: **sudo umount /dev/sda1**
* Запустить восстановление файловой системы на этом HDD, пример: **sudo fsck /dev/sda1**

